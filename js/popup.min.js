const popupOpen=document.querySelector(".footer-button"),popupWindow=document.querySelector(".contacts-form-pop-up"),popupClose=popupWindow.querySelector(".pop-up-close-button"),popupForm=popupWindow.querySelector(".pop-up-form"),nameForm=popupWindow.querySelector(".name-form"),emailForm=popupWindow.querySelector(".email-form"),textForm=popupWindow.querySelector(".text-form");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(o){isStorageSupport=!1}popupOpen.addEventListener("click",function(o){o.preventDefault(),popupWindow.classList.remove("cutout"),storageName&&(nameForm.value=storageName),storageEmail&&(emailForm.value=storageEmail),textForm.value="",nameForm.focus()}),popupClose.addEventListener("click",function(){popupWindow.classList.add("cutout"),popupWindow.classList.remove("form-error")}),popupForm.addEventListener("submit",function(o){nameForm.value&&emailForm.value&&textForm.value?isStorageSupport&&(localStorage.setItem("name",nameForm.value),localStorage.setItem("email",emailForm.value)):(console.log("works!"),o.preventDefault(),popupWindow.classList.remove("form-error"),popupWindow.offsetWidth=popupWindow.offsetWidth,popupWindow.classList.add("form-error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&(popupWindow.classList.add("cutout"),popupWindow.classList.remove("form-error"))});